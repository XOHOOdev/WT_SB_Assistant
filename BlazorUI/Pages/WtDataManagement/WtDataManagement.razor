@page "/wtdatamanagement"
@using WtSbAssistant.BlazorUI.Authorization
@using WtSbAssistant.BlazorUI.Data.WtDataManagementData
@using WtSbAssistant.BlazorUI.Permissions

@inject WtDataManagementService WtService
@inject IStringLocalizer<WtDataManagement> Localizer
@inject IJSRuntime Js
@attribute [HasPermission(Permissions.WtDataManagement.View)]


<InputFile class="form-control" OnChange="LoadFiles" multiple />

@code {
    private const int MaxAllowedFiles = 50;

    private async Task LoadFiles(InputFileChangeEventArgs e)
    {
        await WtService.UploadFilesAsync(e.GetMultipleFiles(MaxAllowedFiles).ToArray());
    }
}
